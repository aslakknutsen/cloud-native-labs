schemaVersion: 2.0.0
metadata:
  name: wksp-debugging
projects:
- name: labs
  zip:
    location: https://github.com/mcouliba/cloud-native-labs/archive/debugging.zip
  attributes:
    skipFirstLevel: 'true'
commands:
- id: oclogin
  exec:
    commandLine: |-
      username=${workspace.namespace}
      projectname=coolstore${username#user}
      oc login ${OPENSHIFT_API_URL} -u ${username} -p 'openshift' --insecure-skip-tls-verify
      oc project ${projectname}
      echo "-----------"
      echo "Successful Connected to OpenShift as ${username}"
      echo "-----------"
    label: oc login
    component: tools
  attributes:
    goal: OpenShift
components:
- name: tools
  container:
    image: quay.io/aslakknutsen/workshop-tools:latest